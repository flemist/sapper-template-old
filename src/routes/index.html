<svelte:head>
	<title>Sapper project template</title>
</svelte:head>

<Grid ref:grid />

<script>
	import { loadUrl } from '../helpers/http'

	function getData ( count ) {
		const countries = 'US,Germany,UK,Japan,Italy,Greece'.split( ',' )

		const data = new wijmo.collections.ObservableArray()

		for ( let i = 0; i < count; i++ ) {
			data.push({
				id     : i,
				country: countries[i % countries.length],
				date   : new Date( 2014, i % 12, i % 28 ),
				amount : Math.random() * 10000,
				active : i % 4 === 0
			})
		}

		return data
	}

	export default {
		components: { Grid: '../components/Grid.html' },
		oncreate () {
			// const grid = this.refs.grid;

			// loadUrl('GET', 
			// 	'/api/wiki/v1/tags',
			// 	null, 
			// 	function(xmlhttp) 
			// 	{
			// 		var obj = JSON.parse(xmlhttp.responseText);
			// 		grid.set({ data: obj });
			// 	}, 
			// 	function(xmlhttp) 
			// 	{
			// 		console.log("Error:\r\n" + xmlhttp.responseText);
			// 	}
			// );
		}
	}
</script>